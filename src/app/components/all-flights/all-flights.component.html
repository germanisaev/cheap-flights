<div class="container position-relative">
  <div class="row">
    <div class="col-sm-12">
      <div class="panel-group">
        <div class="panel panel-default" *ngFor="let flight of flights; let i=index">
          <div class="panel-heading">
            <h4 class="panel-title">
              <div class="row">
                <div class="col-sm-9 col-xs-12">
                  <div class="row">
                    <div class="col-sm-2">
                      {{flight.Airlane}}
                      <input type="hidden" class="faa-sm flight-number" [(ngModel)]="flight.FlightID">
                    </div>
                    <div class="col-sm-2 col-xs-12">
                      <h3>{{flight.DepartureTime}}</h3>
                      <div>{{flight.FlightFrom}}</div>
                    </div>
                    <div class="col-sm-6 col-xs-12">
                      <div class="color-bottom text-center d-block">
                        <span class="pull-left text-dark">{{flight.CodeFrom}}</span>
                        <span class="h6 text-center text-muted">duration of flight:</span>
                        <span class="pull-right text-dark">{{flight.CodeTo}}</span>
                      </div>
                      <div class="text-center text-muted d-block h6">direct flight</div>
                    </div>
                    <div class="col-sm-2 col-xs-12">
                      <h3>{{flight.ArrivalTime}}</h3>
                      <div>{{flight.FlightTo}}</div>
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-2 col-xs-12">
                      {{flight.Airlane}}
                      <input type="text" class="faa-sm flight-number" [(ngModel)]="flight.FlightID">
                    </div>
                    <div class="col-sm-2 col-xs-12">
                      <h3>{{flight.ArrivalTime}}</h3>
                      <div>{{flight.FlightTo}}</div>
                    </div>
                    <div class="col-sm-6 col-xs-12">
                      <div class="color-bottom text-center d-block">
                        <span class="pull-left text-dark">{{flight.CodeTo}}</span>
                        <span class="h6 text-center text-muted">duration of flight:</span>
                        <span class="pull-right text-dark">{{flight.CodeFrom}}</span>
                      </div>
                      <div class="text-center text-muted d-block h6">direct flight</div>
                    </div>
                    <div class="col-sm-2 col-xs-12">
                      <h3>{{flight.DepartureTime}}</h3>
                      <div>{{flight.FlightFrom}}</div>
                    </div>
                  </div>
                </div>

                <div class="col-sm-2 col-xs-12">
                  <h5 class="align-top text-success sticky-top">Recent places {{flight.Capacity}}</h5>
                  <div class="align-middle sticky-middle">
                    <p>Price per passenger</p>
                    <!--<h2>{{flight.FlightPrice | currency:'USD':1.3-2}}</h2>-->
                    <h2 class="shadow">{{flight.FlightPrice | currency:'USD'}}</h2>
                  </div>
                  <h5 class="align-bottom text-dark sticky-bottom">Total payment:
                    <span class="blue-color">{{flight.FlightPrice | currency:'USD'}}</span>
                  </h5>
                </div>

                <div class="col-sm-1 col-xs-12">
                  <a data-toggle="collapse" href="#collapse{{i}}">
                    <i class="fa fa-angle-right pull-right"></i>
                  </a>
                </div>

              </div>
            </h4>
          </div>
          <div id="collapse{{i}}" class="panel-collapse collapse">
            <div class="panel-body">
              <div class="row">
                <div class="col-sm-5 col-xs-12 pull-left padding-bottom">
                  <i class="fa fa-plane"></i>&nbsp;
                  <span class="faa-sm">Round trip, regular flight:</span>
                </div>
                <div class="col-sm-5 col-xs-12 faa-md pull-left padding-bottom">
                  <i class="fa fa-plane faa-md fa-rotate-270"></i>&nbsp;
                  <span class="faa-sm">Repeat flight, regular flight:</span>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-5 col-xs-12 flight-info">
                  <div class="col-sm-4">
                    <h3>
                      <i class="fa fa-clock-o faa-sm" aria-hidden="true"></i>&nbsp;{{flight.DepartureTime}}</h3>
                    <h5>{{flight.DepartureDate | date: small}}</h5>
                    <div>{{flight.FlightFrom}}</div>
                  </div>
                  <div class="col-sm-4">
                    <div class="color-bottom text-center d-block">
                      <span class="pull-left">{{flight.CodeFrom}}</span>
                      <span class="pull-right">{{flight.CodeTo}}</span>
                    </div>
                    <div class="text-center text-muted d-block h6">direct flight</div>
                  </div>
                  <div class="col-sm-4">
                    <h3>
                      <i class="fa fa-clock-o faa-sm" aria-hidden="true"></i>&nbsp;{{flight.ArrivalTime}}</h3>
                    <h5>{{flight.ArrivalDate | date: small}}</h5>
                    <div>{{flight.FlightTo}}</div>
                  </div>
                </div>
                <div class="col-sm-5 col-xs-12 flight-info">
                  <div class="col-sm-4">
                    <h3>
                      <i class="fa fa-clock-o faa-sm" aria-hidden="true"></i>&nbsp;{{flight.ArrivalTime}}</h3>
                    <h5>{{flight.ArrivalDate | date: small}}</h5>
                    <div>{{flight.FlightTo}}</div>
                  </div>
                  <div class="col-sm-4">
                    <div class="color-bottom text-center d-block">
                      <span class="pull-left">{{flight.CodeTo}}</span>
                      <span class="pull-right">{{flight.CodeFrom}}</span>
                    </div>
                    <div class="text-center text-muted d-block h6">direct flight</div>
                  </div>
                  <div class="col-sm-4">
                    <h3>
                      <i class="fa fa-clock-o faa-sm" aria-hidden="true"></i>&nbsp;{{flight.DepartureTime}}</h3>
                    <h5>{{flight.DepartureDate | date: small}}</h5>
                    <div>{{flight.FlightFrom}}</div>
                  </div>
                </div>
                <div class="col-sm-2 col-xs-12 flight-info">
                  <div>Total Price:
                    <span class="blue-color faa-sm">{{TotalPrice[i] | currency:'USD'}}</span>
                  </div>

                  <div class="input-group">
                    <span class="input-group-text">Person(s):</span>
                    <button type="button" class="btn btn-link" [disabled]="isMessage[i] || flight.Capacity == 0" (click)="onChangePlus(i)">
                      <i class="fa fa-plus-circle"></i>
                    </button>
                    <span class="input-group-text">{{person[i]}}</span>
                    <button type="button" [disabled]="isDesibled[i]" class="btn btn-link" (click)="onChangeMinus(i)">
                      <i class="fa fa-minus-circle"></i>
                    </button>
                  </div>

                  <div>Baggage:
                    <label class="switch">
                      <input type="checkbox" [(ngModel)]="baggage[i]" [disabled]="flight.Capacity == 0" (change)="onChangeBaggage(i)">
                      <span class="slider round"></span>
                    </label>
                  </div>
                  <div>Food:
                    <label class="switch">
                      <input type="checkbox" [(ngModel)]="food[i]" [disabled]="flight.Capacity == 0" (change)="onChangeFood(i)">
                      <span class="slider round"></span>
                    </label>
                  </div>
                </div>
              </div>
            </div>
            <div class="panel-footer">
              <div class="alert alert-danger pull-left" role="alert" *ngIf="isMessage[i] || flight.Capacity == 0">
                <strong>Dear customer!</strong> I'm sorry we have no more seats for this flight. You can sign up for a gift list.
              </div>
              <button type="button" class="btn btn-success pull-right" [disabled]="flight.Capacity == 0" (click)="addOrder(i)">Booking Flight</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <a *ngIf="orders" class="position-fixed h4 cursor-pointer" title="Click here for your orders" (click)="onToggle()">{{orders.length}}</a>

  <div *ngIf="orders" [hidden]="isShow" class="position-absolute">
    <ul class="padding-15">
      <li *ngFor="let card of orders; let i=index">
        <div class="booking-card anim">
          <div class="booking-card-body">
            <h5 class="booking-card-title">
              <i class="fa fa-id-card-o faa-sm white-color" aria-hidden="true"></i>&nbsp;Card Number: {{card.CardID}}</h5>
            <div class="booking-card-text h5">{{card.Airlane}} Air</div>
            <div class="booking-card-text h5">{{card.MyLocation}}&nbsp;({{card.CodeLocation}})&nbsp;
              <i class="fa fa-arrows-h faa-xs" aria-hidden="true"></i>&nbsp;{{card.Distination}}&nbsp;({{card.CodeDistination}})</div>
            <div class="booking-card-text">
              <div>
                <i class="fa fa-plane faa-xs"></i>&nbsp;{{card.NumberFrom}}
                <strong>{{card.CodeLocation}}-{{card.CodeDistination}}</strong>&nbsp;{{card.PointFrom | date: small}}, {{card.TimeFrom}}</div>
              <div>
                <i class="fa fa-plane faa-xs fa-rotate-270"></i>&nbsp;{{card.NumberTo}}
                <strong>{{card.CodeDistination}}-{{card.CodeLocation}}</strong>&nbsp;{{card.PointTo | date: small}}, {{card.TimeTo}}</div>
            </div>
            <hr>
            <p class="booking-card-text">Person(s):
              <span class="blue-color h4">{{card.Person}}</span>
            </p>
            <p class="booking-card-text">Send Baggage:
              <span class="blue-color h4" *ngIf="isEdit[i]"><i class="fa faa-sm" [ngClass]="{'fa-check-square-o':card.Baggage,'fa-square-o':!card.Baggage}" aria-hidden="true"></i></span>
              <span *ngIf="!isEdit[i]">
                <label class="switch">
                  <input type="checkbox" [(ngModel)]="card.Baggage" (change)="onChangeBaggageCard(card)">
                  <span class="slider round"></span>
                </label>
              </span>
              <!--
                    <input type="checkbox" [value]="card.Baggage" (input)="card.Baggage = $event.target.value" *ngIf="!isEdit[i]">
                  -->
            </p>
            <p class="booking-card-text">Reservation Food:
              <span class="blue-color h4" *ngIf="isEdit[i]"><i class="fa faa-sm" [ngClass]="{'fa-check-square-o':card.Food,'fa-square-o':!card.Food}" aria-hidden="true"></i></span>
              <span *ngIf="!isEdit[i]">
                <label class="switch">
                  <input type="checkbox" [(ngModel)]="card.Food" (change)="onChangeFoodCard(card)">
                  <span class="slider round"></span>
                </label>
              </span>
              <!--
                  <span><input type="checkbox" [value]="card.Food" (input)="card.Food = $event.target.value" *ngIf="!isEdit[i]"></span>
                  -->
            </p>
            <p class="booking-card-text">Total Price:
              <span class="blue-color h4">{{card.Price | currency:'USD'}}</span>
            </p>
            <hr>
            <a href="#" class="btn btn-booking btn-tooltip pull-left h4" role="button" title="remove" data-toggle="tooltip" data-placement="top"
              (click)="remove(card)">
              <i class="fa fa-trash-o faa-sm white-color" aria-hidden="true"></i>
            </a>
            <a href="#" class="btn btn-booking btn-tooltip pull-right h4 edit" role="button" title="edit" data-toggle="tooltip" data-placement="top"
              *ngIf="isEdit[i]" (click)="onEdit(i,card)">
              <i class="fa fa-pencil-square-o faa-sm white-color" aria-hidden="true"></i>
            </a>
            <a href="#" class="btn btn-booking btn-tooltip pull-right h4 update" role="button" title="update" data-toggle="tooltip" data-placement="top"
              *ngIf="!isEdit[i]" (click)="onUpdate(i,card)">
              <i class="fa fa-pencil-square-o faa-sm white-color" aria-hidden="true"></i>
            </a>
            <a href="#" class="btn btn-booking btn-tooltip pull-right h4" title="close" *ngIf="!isEdit[i]" data-toggle="tooltip" data-placement="top"
              (click)="onClose(i)">
              <i class="fa fa-external-link faa-sm white-color" aria-hidden="true"></i>
            </a>
            <a href="#" class="btn btn-success btn-tooltip pull-right h4 approval" role="button" title="approval" *ngIf="isEdit[i]" data-toggle="tooltip"
              data-placement="top" (click)="onApproval(i,card)">
              <i class="fa fa-check-square-o faa-sm white-color" aria-hidden="true"></i>
            </a>
          </div>
        </div>
      </li>
    </ul>

  </div>

  <a id="back-to-top" href="#" class="h4 back-to-top" role="button" title="Click to return on the top page" data-toggle="tooltip"
    data-placement="left">
    <i class="fa fa-angle-up faa-sm white-color" aria-hidden="true"></i>
  </a>
</div>

<!--
<br>
<pre>{{orders|json}}</pre>
-->